<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KACHAL OS 2.0 - Ø¨Ù…Ø¨â€ŒØªØ±ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ Ú©Ú†Ù„â€ŒÙ‡Ø§</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Courier New', monospace;
        }

        body {
            height: 100vh;
            overflow: hidden;
            position: relative;
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            transition: background-image 0.5s ease;
        }

        /* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù…Ø®ØµÙˆØµ Ø¹Ú©Ø³ Ø¨Ø§ Ø³Ø§ÛŒØ² 960x1280 */
        .bg-image-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            z-index: -1;
        }

        /* Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ù‡Ú© */
        .hack-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(255, 0, 0, 0.1) 0px,
                rgba(0, 255, 0, 0.1) 2px,
                transparent 4px
            );
            pointer-events: none;
            z-index: 999;
            animation: matrix 20s linear infinite;
        }

        @keyframes matrix {
            0% { background-position: 0 0; }
            100% { background-position: 0 100vh; }
        }

        .desktop {
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
            backdrop-filter: brightness(0.8) blur(2px);
        }

        /* Ù†ÙˆØ§Ø± ÙˆØ¸ÛŒÙÙ‡ ÙØ§Ù† */
        .taskbar {
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #ff0000;
            border-bottom: 3px solid #00ff00;
            box-shadow: 0 0 30px #ff0000;
            font-family: 'Courier New';
        }

        .start-button {
            background: linear-gradient(45deg, #ff0000, #000000);
            padding: 10px 25px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            border: 2px solid #00ff00;
            color: #00ff00;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 0 20px #ff0000;
            position: relative;
            overflow: hidden;
        }

        .start-button::before {
            content: "ğŸ‘¨â€ğŸ¦²";
            position: absolute;
            left: -20px;
            opacity: 0;
            transition: all 0.3s;
        }

        .start-button:hover::before {
            left: 5px;
            opacity: 1;
        }

        .start-button:hover {
            padding-left: 45px;
            background: #00ff00;
            color: #000;
            border-color: #ff0000;
            box-shadow: 0 0 50px #00ff00;
        }

        /* Ù…Ù†ÙˆÛŒ Ø§Ø³ØªØ§Ø±Øª Ø³ÙˆÙ¾Ø± Ú©Ú†Ù„ */
        .start-menu {
            position: absolute;
            bottom: 70px;
            right: 20px;
            width: 400px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(15px);
            border: 3px solid #00ff00;
            padding: 20px;
            box-shadow: 0 0 50px #ff0000, inset 0 0 30px rgba(0, 255, 0, 0.3);
            display: none;
            z-index: 1000;
            border-radius: 20px 20px 0 20px;
        }

        .start-menu.show {
            display: block;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
            padding-bottom: 20px;
            border-bottom: 3px dashed #ff0000;
            margin-bottom: 20px;
            background: linear-gradient(90deg, #1a0000, #000000);
            padding: 15px;
            border-radius: 15px;
        }

        .user-avatar {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #ff0000, #00ff00);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-size: 50px;
            border: 4px solid #ff0000;
            box-shadow: 0 0 40px #ff0000;
            position: relative;
            animation: rotate 10s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .user-avatar::after {
            content: "ğŸ‘¨â€ğŸ¦²";
            font-size: 60px;
        }

        .user-name {
            color: #00ff00;
            font-size: 28px;
            font-weight: bold;
            text-shadow: 0 0 15px #ff0000;
            letter-spacing: 2px;
        }

        .user-badge {
            background: #ff0000;
            color: #000;
            padding: 5px 15px;
            border-radius: 30px;
            font-size: 14px;
            display: inline-block;
            margin-top: 10px;
            font-weight: bold;
            box-shadow: 0 0 20px #00ff00;
        }

        /* Ø¨Ø®Ø´ Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ */
        .image-upload-section {
            background: #1a1a1a;
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            border: 2px solid #ff0000;
        }

        .image-upload-title {
            color: #00ff00;
            font-size: 16px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .image-preview {
            width: 100%;
            height: 100px;
            border: 2px dashed #ff0000;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }

        .image-preview.has-image::after {
            content: "âœ… Ø¹Ú©Ø³ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 255, 0, 0.8);
            color: #000;
            padding: 5px;
            font-size: 12px;
        }

        .upload-btn {
            background: #000;
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 10px;
            width: 100%;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .upload-btn:hover {
            background: #00ff00;
            color: #000;
            border-color: #ff0000;
        }

        /* Ø¨Ø®Ø´ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ú©Ø³ */
        .image-settings {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .image-setting-btn {
            background: #1a1a1a;
            border: 1px solid #ff0000;
            color: #00ff00;
            padding: 8px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }

        .image-setting-btn:hover {
            background: #ff0000;
            color: #000;
        }

        /* Ø¨Ø®Ø´ Ø¬ÙˆÚ© Ùˆ ÙØ§Ù† */
        .fun-section {
            background: linear-gradient(45deg, #000, #1a0000);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            border: 2px solid #00ff00;
        }

        .joke-box {
            background: #000;
            padding: 15px;
            border-right: 5px solid #ff0000;
            color: #00ff00;
            font-family: 'Courier New';
            margin: 10px 0;
            min-height: 80px;
            position: relative;
        }

        .joke-box::before {
            content: "ğŸ’€";
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 30px;
            opacity: 0.3;
        }

        /* Ø¨Ø®Ø´ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ */
        .game-box {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .game-item {
            background: #1a1a1a;
            padding: 15px 5px;
            text-align: center;
            border: 1px solid #ff0000;
            cursor: pointer;
            transition: all 0.3s;
            color: #00ff00;
        }

        .game-item:hover {
            background: #ff0000;
            color: #000;
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 0 30px #ff0000;
        }

        /* Ø¨Ø®Ø´ Ù¾Ø®Ø´â€ŒÚ©Ù†Ù†Ø¯Ù‡ */
        .music-player {
            background: #0a0a0a;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .music-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
        }

        .music-btn {
            background: none;
            border: 2px solid #ff0000;
            color: #00ff00;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 25px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-btn:hover {
            background: #ff0000;
            color: #000;
            transform: scale(1.2);
            border-color: #00ff00;
        }

        .app-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .app-item {
            padding: 15px 5px;
            text-align: center;
            border: 2px solid #333;
            cursor: pointer;
            transition: all 0.3s;
            color: #00ff00;
            background: #0a0a0a;
            border-radius: 10px;
        }

        .app-item:hover {
            background: #ff0000;
            color: #000;
            border-color: #00ff00;
            transform: scale(1.1) rotate(-2deg);
            box-shadow: 0 0 40px #ff0000;
        }

        .workspace {
            flex: 1;
            position: relative;
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-content: flex-start;
        }

        .desktop-icon {
            width: 90px;
            text-align: center;
            color: #00ff00;
            cursor: pointer;
            padding: 12px 5px;
            border: 2px solid transparent;
            transition: all 0.3s;
            text-shadow: 0 0 10px #ff0000;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        .desktop-icon:hover {
            border-color: #ff0000;
            background: rgba(255, 0, 0, 0.3);
            transform: translateY(-10px) scale(1.1);
            box-shadow: 0 10px 30px #ff0000;
        }

        .desktop-icon i {
            font-size: 45px;
            display: block;
            margin-bottom: 8px;
            filter: drop-shadow(0 0 15px #ff0000);
        }

        /* Ù¾Ù†Ø¬Ø±Ù‡â€ŒÙ‡Ø§ */
        .window {
            position: absolute;
            top: 100px;
            right: 100px;
            width: 500px;
            background: rgba(0, 0, 0, 0.95);
            border: 3px solid #00ff00;
            box-shadow: 0 0 50px #ff0000, inset 0 0 30px rgba(0, 255, 0, 0.2);
            overflow: hidden;
            display: none;
            resize: both;
            min-width: 350px;
            min-height: 300px;
            backdrop-filter: blur(10px);
            border-radius: 20px;
        }

        .window.show {
            display: block;
            animation: windowPop 0.3s ease;
        }

        @keyframes windowPop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .window-header {
            background: linear-gradient(90deg, #ff0000, #000000);
            color: #00ff00;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            border-bottom: 3px solid #00ff00;
            font-family: 'Courier New';
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .window-controls {
            display: flex;
            gap: 15px;
        }

        .window-controls span {
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #00ff00;
            transition: all 0.3s;
            color: #00ff00;
            font-size: 16px;
            border-radius: 5px;
        }

        .window-controls span:hover {
            background: #00ff00;
            border-color: #ff0000;
            color: #000;
            transform: scale(1.2);
        }

        .window-content {
            padding: 20px;
            height: calc(100% - 60px);
            overflow: auto;
            color: #00ff00;
        }

        /* Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù */
        .section-title {
            color: #ff0000;
            font-size: 20px;
            margin-bottom: 15px;
            border-bottom: 2px solid #00ff00;
            padding-bottom: 5px;
            text-transform: uppercase;
        }

        .kachal-counter {
            background: #1a1a1a;
            padding: 10px;
            text-align: center;
            font-size: 30px;
            color: #ff0000;
            border: 2px solid #00ff00;
            margin: 15px 0;
            direction: ltr;
        }

        .status-bar {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }

        .status-item {
            flex: 1;
            background: #1a1a1a;
            padding: 10px;
            text-align: center;
            border: 1px solid #ff0000;
        }

        /* Ø¨Ø®Ø´ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ú©Ú†Ù„â€ŒÙ‡Ø§ */
        .kachal-db {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .kachal-card {
            background: #0a0a0a;
            padding: 10px;
            border: 1px solid #00ff00;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .kachal-avatar {
            width: 40px;
            height: 40px;
            background: #ff0000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 25px;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ù¾ÙˆØª ÙØ§ÛŒÙ„ */
        input[type="file"] {
            display: none;
        }

        .file-label {
            background: #000;
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 10px;
            width: 100%;
            text-align: center;
            display: block;
            cursor: pointer;
            transition: all 0.3s;
        }

        .file-label:hover {
            background: #00ff00;
            color: #000;
            border-color: #ff0000;
        }

        .clock {
            font-size: 20px;
            font-family: 'Courier New';
            color: #00ff00;
            text-shadow: 0 0 15px #ff0000;
            background: #000;
            padding: 8px 15px;
            border: 2px solid #ff0000;
            border-radius: 30px;
        }
    </style>
</head>
<body>
    <div class="hack-effect"></div>
    
    <div class="desktop">
        <!-- Ù†ÙˆØ§Ø± ÙˆØ¸ÛŒÙÙ‡ -->
        <div class="taskbar">
            <div class="start-button" onclick="toggleStartMenu()">
                <span>ğŸ’€</span>
                <span>Ú©Ú†Ù„ Ù…Ù†Ùˆ</span>
                <span>ğŸ‘¨â€ğŸ¦²</span>
            </div>
            <div class="clock" id="clock"></div>
        </div>

        <!-- Ù…Ù†ÙˆÛŒ Ø§Ø³ØªØ§Ø±Øª Ø³ÙˆÙ¾Ø± Ú©Ú†Ù„ -->
        <div class="start-menu" id="startMenu">
            <div class="user-info">
                <div class="user-avatar"></div>
                <div>
                    <div class="user-name">Ø¹Ø±ÙØ§Ù† Ø´Ú©ÙˆØ±ÛŒ</div>
                    <div class="user-badge">âš¡ Ú©Ú†Ù„ ØªÙ…Ø§Ù… âš¡</div>
                    <div style="color: #ff0000; margin-top: 5px;">Ù‡Ú©Ø± Ø´Ù…Ø§Ø±Ù‡ 1 Ú©Ú†Ù„â€ŒÙ‡Ø§</div>
                </div>
            </div>

            <!-- Ø¨Ø®Ø´ Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ (960x1280) -->
            <div class="image-upload-section">
                <div class="image-upload-title">
                    <span>ğŸ–¼ï¸</span>
                    <span>ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ú©Ø³ Ø²Ù…ÛŒÙ†Ù‡ (960x1280)</span>
                </div>
                <div class="image-preview" id="imagePreview">
                    Ø¹Ú©Ø³Øª Ø±Ùˆ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†Ø¯Ø§Ø²...
                </div>
                <input type="file" id="bgImageInput" accept="image/*" onchange="handleImageUpload(event)">
                <label for="bgImageInput" class="file-label">ğŸ“ Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³</label>
                
                <div class="image-settings">
                    <button class="image-setting-btn" onclick="setBackgroundSize('cover')">ğŸ–¼ï¸ Ú©Ø§ÙˆØ± Ú©Ù†</button>
                    <button class="image-setting-btn" onclick="setBackgroundSize('contain')">ğŸ“ ÙÛŒØª Ú©Ù†</button>
                    <button class="image-setting-btn" onclick="setBackgroundPosition('center')">ğŸ¯ ÙˆØ³Ø· Ú†ÛŒÙ†</button>
                    <button class="image-setting-btn" onclick="resetBackground()">âŒ Ù¾Ø§Ú© Ú©Ù†</button>
                </div>
                <div style="color: #ff0000; font-size: 10px; margin-top: 5px; text-align: center;">
                    Ø³Ø§ÛŒØ² Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ: 960x1280 Ù¾ÛŒÚ©Ø³Ù„
                </div>
            </div>

            <!-- Ø¨Ø®Ø´ Ø¬ÙˆÚ© Ùˆ ÙØ§Ù† -->
            <div class="fun-section">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span>ğŸ˜‚ Ø¬ÙˆÚ© Ú©Ú†Ù„â€ŒÙ‡Ø§</span>
                    <button onclick="newJoke()" style="background: none; border: 1px solid #ff0000; color: #00ff00; padding: 5px 10px; cursor: pointer;">Ø¨Ø¹Ø¯ÛŒ</button>
                </div>
                <div class="joke-box" id="jokeBox">
                    Ú†Ø±Ø§ Ú©Ú†Ù„Ø§ Ú©Ù„Ø§Ù‡ Ù†Ù…ÛŒâ€ŒØ°Ø§Ø±Ù†ØŸ Ú†ÙˆÙ† Ù…ÛŒâ€ŒØªØ±Ø³Ù† Ù…ÙˆÙ‡Ø§Ø´ÙˆÙ† Ø¨Ù‡ Ù‡Ù… Ø¨Ø±ÛŒØ²Ù‡! ğŸ˜‚
                </div>
            </div>

            <!-- Ø¨Ø®Ø´ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ú†Ù„ÛŒ -->
            <div class="game-box">
                <div class="game-item" onclick="playGame('dice')">
                    <div>ğŸ²</div>
                    <div>ØªØ§Ø³ Ú©Ú†Ù„ÛŒ</div>
                </div>
                <div class="game-item" onclick="playGame('coin')">
                    <div>ğŸª™</div>
                    <div> Ø´ÛŒØ± ÛŒØ§ Ø®Ø·</div>
                </div>
                <div class="game-item" onclick="playGame('number')">
                    <div>ğŸ”¢</div>
                    <div>Ø¹Ø¯Ø¯ Ø­Ø¯Ø³ Ø¨Ø²Ù†</div>
                </div>
                <div class="game-item" onclick="playGame('fight')">
                    <div>ğŸ‘Š</div>
                    <div>Ø¯Ø¹ÙˆØ§ÛŒ Ú©Ú†Ù„Ø§</div>
                </div>
            </div>

            <!-- Ø¨Ø®Ø´ Ù¾Ø®Ø´â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ú©Ú†Ù„ÛŒ -->
            <div class="music-player">
                <div style="text-align: center; margin-bottom: 10px;">ğŸ§ Ø¢Ù‡Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ú©Ú†Ù„ÛŒ</div>
                <div class="music-controls">
                    <button class="music-btn" onclick="playMusic('prev')">â®ï¸</button>
                    <button class="music-btn" onclick="playMusic('play')">â–¶ï¸</button>
                    <button class="music-btn" onclick="playMusic('pause')">â¸ï¸</button>
                    <button class="music-btn" onclick="playMusic('next')">â­ï¸</button>
                </div>
                <div style="text-align: center; font-size: 12px;" id="musicStatus">Ø¢Ù‡Ù†Ú¯: Ú©Ú†Ù„ Ø±Ù¾ ğŸ¤</div>
            </div>

            <!-- Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ú©Ú†Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ø±ÙˆÙ -->
            <div style="margin: 15px 0;">
                <div class="section-title">ğŸ‘¨â€ğŸ¦² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ú©Ú†Ù„â€ŒÙ‡Ø§</div>
                <div class="kachal-db" id="kachalDB">
                    <div class="kachal-card">
                        <div class="kachal-avatar">ğŸ‘¨â€ğŸ¦²</div>
                        <div>Ø¹Ø±ÙØ§Ù† Ø´Ú©ÙˆØ±ÛŒ</div>
                    </div>
                    <div class="kachal-card">
                        <div class="kachal-avatar">ğŸ‘¨â€ğŸ¦²</div>
                        <div>Ú©Ú†Ù„ Û±</div>
                    </div>
                    <div class="kachal-card">
                        <div class="kachal-avatar">ğŸ‘¨â€ğŸ¦²</div>
                        <div>Ú©Ú†Ù„ Û²</div>
                    </div>
                    <div class="kachal-card">
                        <div class="kachal-avatar">ğŸ‘¨â€ğŸ¦²</div>
                        <div>Ú©Ú†Ù„ Û³</div>
                    </div>
                </div>
                <button onclick="addKachal()" style="width: 100%; margin-top: 10px; padding: 10px; background: #ff0000; color: #000; border: none; cursor: pointer; font-weight: bold;">â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ú†Ù„ Ø¬Ø¯ÛŒØ¯</button>
            </div>

            <!-- Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ -->
            <div class="app-list">
                <div class="app-item" onclick="openApp('browser')">
                    <div class="app-icon">ğŸ’€</div>
                    <div>Ù‡Ú©â€ŒØ¨Ø±ÙˆØ²Ø±</div>
                </div>
                <div class="app-item" onclick="openApp('terminal')">
                    <div class="app-icon">âŒ¨ï¸</div>
                    <div>ØªØ±Ù…ÛŒÙ†Ø§Ù„</div>
                </div>
                <div class="app-item" onclick="openApp('calculator')">
                    <div class="app-icon">ğŸ§®</div>
                    <div>Ú©Ú†Ù„â€ŒØ­Ø³Ø§Ø¨</div>
                </div>
                <div class="app-item" onclick="openApp('notepad')">
                    <div class="app-icon">ğŸ“</div>
                    <div>Ù†ÙˆØª Ù‡Ú©Ø±</div>
                </div>
                <div class="app-item" onclick="openApp('hacktools')">
                    <div class="app-icon">ğŸ”ª</div>
                    <div>Ø§Ø¨Ø²Ø§Ø± Ù‡Ú©</div>
                </div>
                <div class="app-item" onclick="openApp('games')">
                    <div class="app-icon">ğŸ®</div>
                    <div>Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</div>
                </div>
                <div class="app-item" onclick="openApp('music')">
                    <div class="app-icon">ğŸµ</div>
                    <div>Ù…ÙˆØ²ÛŒÚ©</div>
                </div>
                <div class="app-item" onclick="openApp('kachalbook')">
                    <div class="app-icon">ğŸ“–</div>
                    <div>Ú©Ú†Ù„â€ŒØ¨ÙˆÚ©</div>
                </div>
                <div class="app-item" onclick="openApp('settings')">
                    <div class="app-icon">âš™ï¸</div>
                    <div>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</div>
                </div>
            </div>
        </div>

        <!-- Ø¯Ø³Ú©ØªØ§Ù¾ -->
        <div class="workspace" id="workspace">
            <div class="desktop-icon" ondblclick="openApp('browser')">
                <span>ğŸ’€</span>
                <span>Ù‡Ú©â€ŒØ¨Ø±ÙˆØ²Ø±</span>
            </div>
            <div class="desktop-icon" ondblclick="openApp('terminal')">
                <span>âŒ¨ï¸</span>
                <span>ØªØ±Ù…ÛŒÙ†Ø§Ù„</span>
            </div>
            <div class="desktop-icon" ondblclick="openApp('games')">
                <span>ğŸ®</span>
                <span>Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</span>
            </div>
            <div class="desktop-icon" ondblclick="openApp('music')">
                <span>ğŸµ</span>
                <span>Ù…ÙˆØ²ÛŒÚ©</span>
            </div>
            <div class="desktop-icon" ondblclick="openApp('kachalbook')">
                <span>ğŸ“–</span>
                <span>Ú©Ú†Ù„â€ŒØ¨ÙˆÚ©</span>
            </div>
        </div>

        <!-- Ù¾Ù†Ø¬Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ (Ø¨Ù‚ÛŒÙ‡ Ù¾Ù†Ø¬Ø±Ù‡â€ŒÙ‡Ø§ Ù…Ø«Ù„ Ù‚Ø¨Ù„ Ø¨Ø§ ØªÙ… Ø¬Ø¯ÛŒØ¯) -->
        <!-- Ù…Ù† Ø¨Ø±Ø§ÛŒ Ø®Ù„Ø§ØµÙ‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø§ÛŒÙ†Ø¬Ø§ ÙÙ‚Ø· Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø±Ùˆ Ù…ÛŒâ€ŒÙ†ÙˆÛŒØ³Ù…ØŒ Ø¨Ù‚ÛŒÙ‡ Ø±Ùˆ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø§Ø² Ú©Ø¯ Ù‚Ø¨Ù„ÛŒ Ú©Ù¾ÛŒ Ú©Ù†ÛŒ -->
        
        <!-- Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ -->
        <div class="window" id="gamesWindow">
            <div class="window-header">
                <span>ğŸ® KACHAL GAMES ğŸ®</span>
                <div class="window-controls">
                    <span onclick="minimizeWindow('gamesWindow')">ğŸ—•</span>
                    <span onclick="maximizeWindow('gamesWindow')">ğŸ—–</span>
                    <span onclick="closeWindow('gamesWindow')">ğŸ—™</span>
                </div>
            </div>
            <div class="window-content">
                <div class="status-bar">
                    <div class="status-item">Ø§Ù…ØªÛŒØ§Ø²: <span id="score">0</span></div>
                    <div class="status-item">Ú©Ú†Ù„ Ú©ÙˆÛŒÙ†: <span id="coins">100</span></div>
                </div>
                
                <div class="game-box" style="grid-template-columns: repeat(2, 1fr);">
                    <div class="game-item" onclick="playGame('dice')">
                        <div style="font-size: 40px;">ğŸ²</div>
                        <div>ØªØ§Ø³ Ú©Ú†Ù„ÛŒ</div>
                    </div>
                    <div class="game-item" onclick="playGame('coin')">
                        <div style="font-size: 40px;">ğŸª™</div>
                        <div>Ø´ÛŒØ± ÛŒØ§ Ø®Ø·</div>
                    </div>
                    <div class="game-item" onclick="playGame('number')">
                        <div style="font-size: 40px;">ğŸ”¢</div>
                        <div>Ø­Ø¯Ø³ Ø¹Ø¯Ø¯</div>
                    </div>
                    <div class="game-item" onclick="playGame('fight')">
                        <div style="font-size: 40px;">ğŸ‘Š</div>
                        <div>Ø¯Ø¹ÙˆØ§</div>
                    </div>
                </div>

                <div class="kachal-counter" id="gameResult">
                    ğŸ‘¨â€ğŸ¦² Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§Ø²ÛŒØŸ
                </div>

                <button onclick="claimDailyReward()" style="width: 100%; padding: 15px; background: linear-gradient(45deg, #ff0000, #000); color: #00ff00; border: 2px solid #00ff00; margin-top: 20px; cursor: pointer;">
                    ğŸ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ú©Ú†Ù„ÛŒ (Û±Û°Û° Ú©Ú†Ù„ Ú©ÙˆÛŒÙ†)
                </button>
            </div>
        </div>
    </div>

    <script>
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø³Ø±Ø§Ø³Ø±ÛŒ
        let activeWindows = [];
        let score = 0;
        let coins = 100;
        let currentMusic = 0;
        const musicList = ['ğŸ¤ Ú©Ú†Ù„ Ø±Ù¾', 'ğŸ¸ Ú©Ú†Ù„ Ø±Ø§Ú©', 'ğŸ¹ Ú©Ú†Ù„ Ù¾Ø§Ù¾', 'ğŸ¥ Ú©Ú†Ù„ Ù…ØªØ§Ù„'];
        
        // Ù„ÛŒØ³Øª Ø¬ÙˆÚ©â€ŒÙ‡Ø§
        const jokes = [
            "Ú†Ø±Ø§ Ú©Ú†Ù„Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ø®ÙˆØ´Ø­Ø§Ù„Ù†ØŸ Ú†ÙˆÙ† Ù…Ùˆ Ù†Ø¯Ø§Ø±Ù† Ú©Ù‡ Ø¨Ø±Ø§Ø´ÙˆÙ† Ø¨Ø±ÛŒØ²Ù‡! ğŸ˜‚",
            "ÛŒÙ‡ Ú©Ú†Ù„ Ø±ÙØªÙ‡ Ø¢Ø±Ø§ÛŒØ´Ú¯Ø§Ù‡ Ú¯ÙØªÙ‡: Ù…ÛŒØ®ÙˆØ§Ù… Ù…ÙˆÙ‡Ø§Ù…Ùˆ ÙØ± Ú©Ù†Ù…! Ø¢Ø±Ø§ÛŒØ´Ú¯Ø± Ú¯ÙØªÙ‡: Ø¨Ø§Ø´Ù‡ØŒ Ø¢ÛŒÙ†Ù‡ Ø±Ùˆ Ø¨Ø±Ø§Øª Ú©Ø¬ Ú©Ù†Ù…ØŸ ğŸ‘¨â€ğŸ¦²",
            "Ú©Ú†Ù„Ø§ ØªÙˆ ÙÙˆØªØ¨Ø§Ù„ Ø¨Ù‡ØªØ±ÛŒÙ†Ù† Ú†ÙˆÙ† Ù‡Ù…ÛŒØ´Ù‡ ØªÙˆÙ¾ Ø±Ùˆ Ø¨Ø§ Ø³Ø± Ù…ÛŒâ€ŒØ²Ù†Ù†! âš½",
            "Ú†Ø±Ø§ Ú©Ú†Ù„Ø§ Ø¹ÛŒÙ†Ú© Ø¢ÙØªØ§Ø¨ÛŒ Ù…ÛŒâ€ŒØ²Ù†Ù†ØŸ Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù† Ú©Ø³ÛŒ Ø¨Ø¨ÛŒÙ†Ù‡ Ú†Ù‚Ø¯Ø± Ù…ÛŒâ€ŒØ¯Ø±Ø®Ø´Ù†! ğŸ˜",
            "Ú©Ú†Ù„ Ø¨Ù‡ Ú©Ú†Ù„ Ù…ÛŒâ€ŒÚ¯Ù‡: Ù…ÙˆÙ‡Ø§Øª Ø®ÙˆØ´Ú¯Ù„Ù‡! Ù…ÛŒâ€ŒÚ¯Ù‡: ØªÙˆ Ù‡Ù… Ú©Ù„Ø§Ù‡Øª! ğŸ§¢",
            "Ø±Ø§Ø² Ú©Ú†Ù„Ø§ Ú†ÛŒÙ‡ØŸ Ù…ÙˆÙ‡Ø§Ø´ÙˆÙ† Ø±ÙØªÙ† Ø³ÙØ±ØŒ Ù‡Ù†ÙˆØ² Ø¨Ø±Ù†Ú¯Ø´ØªÙ†! âœˆï¸",
            "Ú©Ú†Ù„Ø§ ØªÙˆ Ø­Ù…Ø§Ù… Ú†ÛŒ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†ØŸ Ø³Ø±Ø´ÙˆÙ†Ùˆ Ø¨Ø§ Ø¯Ø³ØªÙ…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ±Ù†! ğŸ§¼"
        ];

        // ØªÙˆØ§Ø¨Ø¹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¹Ú©Ø³
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // ØªÙ†Ø¸ÛŒÙ… Ø¹Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ú©Ù„ ØµÙØ­Ù‡
                    document.body.style.backgroundImage = `url('${e.target.result}')`;
                    document.body.style.backgroundSize = 'cover';
                    document.body.style.backgroundPosition = 'center';
                    
                    // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´
                    const preview = document.getElementById('imagePreview');
                    preview.style.backgroundImage = `url('${e.target.result}')`;
                    preview.classList.add('has-image');
                    preview.textContent = '';
                    
                    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage
                    localStorage.setItem('kachalBg', e.target.result);
                    
                    showMessage('âœ… Ø¹Ú©Ø³ Ø¨Ø§ Ø³Ø§ÛŒØ² 960x1280 Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯!');
                };
                reader.readAsDataURL(file);
            }
        }

        function setBackgroundSize(size) {
            document.body.style.backgroundSize = size;
        }

        function setBackgroundPosition(position) {
            document.body.style.backgroundPosition = position;
        }

        function resetBackground() {
            document.body.style.backgroundImage = 'none';
            document.getElementById('imagePreview').style.backgroundImage = 'none';
            document.getElementById('imagePreview').classList.remove('has-image');
            document.getElementById('imagePreview').textContent = 'Ø¹Ú©Ø³Øª Ø±Ùˆ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†Ø¯Ø§Ø²...';
            localStorage.removeItem('kachalBg');
        }

        // ØªÙˆØ§Ø¨Ø¹ Ø¬ÙˆÚ©
        function newJoke() {
            const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
            document.getElementById('jokeBox').textContent = randomJoke;
        }

        // ØªÙˆØ§Ø¨Ø¹ Ø¨Ø§Ø²ÛŒ
        function playGame(game) {
            const result = document.getElementById('gameResult');
            let message = '';
            let earnedCoin = 0;
            
            switch(game) {
                case 'dice':
                    const dice = Math.floor(Math.random() * 6) + 1;
                    message = `ğŸ² ØªØ§Ø³ Ø±ÛŒØ®ØªÛŒ: ${dice}`;
                    earnedCoin = dice * 10;
                    break;
                case 'coin':
                    const coin = Math.random() > 0.5 ? 'Ø´ÛŒØ±' : 'Ø®Ø·';
                    message = `ğŸª™ ${coin} Ø§ÙˆÙ…Ø¯`;
                    earnedCoin = coin === 'Ø´ÛŒØ±' ? 50 : 30;
                    break;
                case 'number':
                    const number = Math.floor(Math.random() * 10) + 1;
                    message = `ğŸ”¢ Ø¹Ø¯Ø¯: ${number}`;
                    earnedCoin = number * 5;
                    break;
                case 'fight':
                    const win = Math.random() > 0.5;
                    message = win ? 'ğŸ‘Š Ø¨Ø±Ø¯ÛŒ! Ú©Ú†Ù„ Ø­Ø±ÛŒÙ Ø±Ùˆ Ø²Ø¯ÛŒ!' : 'ğŸ¤• Ø¨Ø§Ø®ØªÛŒ! Ú©Ú†Ù„ Ø­Ø±ÛŒÙ Ù‚ÙˆÛŒ Ø¨ÙˆØ¯!';
                    earnedCoin = win ? 70 : 10;
                    break;
            }
            
            coins += earnedCoin;
            score += 10;
            
            document.getElementById('score').textContent = score;
            document.getElementById('coins').textContent = coins;
            result.innerHTML = `${message}<br>ğŸ’° Ø¬Ø§ÛŒØ²Ù‡: ${earnedCoin} Ú©Ú†Ù„ Ú©ÙˆÛŒÙ†`;
        }

        function claimDailyReward() {
            coins += 100;
            document.getElementById('coins').textContent = coins;
            showMessage('ğŸ Û±Û°Û° Ú©Ú†Ù„ Ú©ÙˆÛŒÙ† Ú¯Ø±ÙØªÛŒ!');
        }

        // ØªÙˆØ§Ø¨Ø¹ Ù…ÙˆØ³ÛŒÙ‚ÛŒ
        function playMusic(action) {
            const status = document.getElementById('musicStatus');
            
            switch(action) {
                case 'play':
                    status.innerHTML = `â–¶ï¸ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø®Ø´: ${musicList[currentMusic]}`;
                    break;
                case 'pause':
                    status.innerHTML = `â¸ï¸ Ù…ÙˆØ²ÛŒÚ© Ù…ÙˆÙ‚ØªØ§Ù‹ Ù‚Ø·Ø¹ Ø´Ø¯`;
                    break;
                case 'next':
                    currentMusic = (currentMusic + 1) % musicList.length;
                    status.innerHTML = `â­ï¸ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø®Ø´: ${musicList[currentMusic]}`;
                    break;
                case 'prev':
                    currentMusic = (currentMusic - 1 + musicList.length) % musicList.length;
                    status.innerHTML = `â®ï¸ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø®Ø´: ${musicList[currentMusic]}`;
                    break;
            }
        }

        // Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ú©Ú†Ù„â€ŒÙ‡Ø§
        function addKachal() {
            const name = prompt("Ø§Ø³Ù… Ú©Ú†Ù„ Ø¬Ø¯ÛŒØ¯ Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³:");
            if (name) {
                const db = document.getElementById('kachalDB');
                const newCard = document.createElement('div');
                newCard.className = 'kachal-card';
                newCard.innerHTML = `
                    <div class="kachal-avatar">ğŸ‘¨â€ğŸ¦²</div>
                    <div>${name}</div>
                `;
                db.appendChild(newCard);
                showMessage(`ğŸ‘¨â€ğŸ¦² ${name} Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ú©Ú†Ù„â€ŒÙ‡Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!`);
            }
        }

        // ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´/Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù†
        function toggleStartMenu() {
            document.getElementById('startMenu').classList.toggle('show');
        }

        function openApp(appName) {
            document.getElementById('startMenu').classList.remove('show');
            const window = document.getElementById(appName + 'Window');
            if (window) {
                window.classList.add('show');
                window.style.zIndex = Date.now();
            }
        }

        function closeWindow(windowId) {
            document.getElementById(windowId).classList.remove('show');
        }

        function minimizeWindow(windowId) {
            document.getElementById(windowId).style.display = 'none';
        }

        function maximizeWindow(windowId) {
            const window = document.getElementById(windowId);
            if (window.style.width === '100%') {
                window.style.width = '500px';
                window.style.height = '400px';
                window.style.top = '100px';
                window.style.right = '100px';
            } else {
                window.style.width = '100%';
                window.style.height = '100%';
                window.style.top = '0';
                window.style.right = '0';
            }
        }

        function showMessage(msg) {
            const result = document.getElementById('gameResult');
            result.innerHTML = msg;
            setTimeout(() => {
                result.innerHTML = 'ğŸ‘¨â€ğŸ¦² Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§Ø²ÛŒØŸ';
            }, 2000);
        }

        // Ø³Ø§Ø¹Øª
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString('fa-IR');
            document.getElementById('clock').innerHTML = `ğŸ‘¨â€ğŸ¦² ${time} ğŸ‘¨â€ğŸ¦²`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¹Ú©Ø³ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
        window.onload = function() {
            const savedBg = localStorage.getItem('kachalBg');
            if (savedBg) {
                document.body.style.backgroundImage = `url('${savedBg}')`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundPosition = 'center';
                
                const preview = document.getElementById('imagePreview');
                preview.style.backgroundImage = `url('${savedBg}')`;
                preview.classList.add('has-image');
                preview.textContent = '';
            }
        }

        // Ø¨Ø³ØªÙ† Ù…Ù†Ùˆ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø¨ÛŒØ±ÙˆÙ†
        document.addEventListener('click', function(event) {
            const startMenu = document.getElementById('startMenu');
            const startButton = document.querySelector('.start-button');
            
            if (!startMenu.contains(event.target) && !startButton.contains(event.target)) {
                startMenu.classList.remove('show');
            }
        });

        // Ù‚Ø§Ø¨Ù„ÛŒØª Ú©Ø´ÛŒØ¯Ù† Ù¾Ù†Ø¬Ø±Ù‡
        function makeDraggable(element) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            const header = element.querySelector('.window-header');
            
            header.onmousedown = dragMouseDown;

            function dragMouseDown(e) {
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                element.style.top = (element.offsetTop - pos2) + "px";
                element.style.left = (element.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        document.querySelectorAll('.window').forEach(window => {
            makeDraggable(window);
        });
    </script>
</body>
</html>
